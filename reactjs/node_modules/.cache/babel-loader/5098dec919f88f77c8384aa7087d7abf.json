{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\src\\\\components\\\\content.js\";\n\nimport React, { Component, Fragment, useEffect, useLayoutEffect, useState } from \"react\";\nimport useToken from \"./useToken\";\nimport Login from \"./Login\";\nimport App from \"../App\";\n\nvar MyTr = function MyTr(_ref) {\n  var row = _ref.row;\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 5\n    }\n  }, row.map(function (v, k) {\n    return /*#__PURE__*/React.createElement(\"td\", {\n      key: k,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 28\n      }\n    }, v);\n  }));\n};\n\nvar MyTable = /*#__PURE__*/function (_Component) {\n  _inherits(MyTable, _Component);\n\n  function MyTable() {\n    _classCallCheck(this, MyTable);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MyTable).apply(this, arguments));\n  }\n\n  _createClass(MyTable, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var data = this.props.data;\n      console.log(data);\n      return /*#__PURE__*/React.createElement(React.Fragment, null, [data].map(function (v, k) {\n        return /*#__PURE__*/React.createElement(MyTr, {\n          data: v,\n          key: k,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 39\n          }\n        });\n      }));\n    }\n  }]);\n\n  return MyTable;\n}(Component);\n\nfunction Content() {\n  var _this3 = this;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      books = _useState2[0],\n      setBooks = _useState2[1];\n\n  var _useToken = useToken(),\n      token = _useToken.token,\n      setToken = _useToken.setToken;\n\n  useLayoutEffect(function () {\n    getBooks();\n  });\n\n  function getBooks() {\n    fetch('http://localhost:8083/api/books/', {\n      headers: {\n        'Authorization': token\n      }\n    }).then(function (response) {\n      return response.text();\n    }).then(function (data) {\n      setBooks(data);\n    });\n  }\n\n  function createBook() {\n    var bookName = prompt('Enter text');\n    var amount = prompt('Enter amount'); //\n\n    fetch('http://localhost:8083/api/books/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': token\n      },\n      body: JSON.stringify({\n        bookName: bookName,\n        amount: amount\n      })\n    }).then(function (response) {\n      return response.text();\n    }).then(function (data) {\n      alert(data);\n      getBooks();\n    });\n  }\n\n  function deleteBook() {\n    var id = prompt('Enter book ID');\n    fetch(\"http://localhost:8083/api/books/\".concat(id), {\n      method: 'DELETE',\n      headers: {\n        'Authorization': token\n      }\n    }).then(function (response) {\n      return response.text();\n    }).then(function (data) {\n      alert(data);\n      getBooks();\n    });\n  }\n\n  function updateBook() {\n    var id = prompt('Enter book ID');\n    var bookName = prompt('Enter new text');\n    var amount = prompt('Enter new amount'); //\n\n    fetch('http://localhost:8083/api/books/', {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': token\n      },\n      body: JSON.stringify({\n        id: id,\n        bookName: bookName,\n        amount: amount\n      })\n    }).then(function (response) {\n      return response.text();\n    }).then(function (data) {\n      alert(data);\n      getBooks();\n    });\n  }\n\n  function addBook() {\n    var bookName = prompt('Enter text');\n    var amount = prompt('Enter amount'); //\n\n    fetch('http://localhost:8083/api/books/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': token\n      },\n      body: JSON.stringify({\n        bookName: bookName,\n        amount: amount\n      })\n    }).then(function (response) {\n      return response.text();\n    }).then(function (data) {\n      alert(data);\n      getBooks();\n    });\n  } // if(!token) {\n  //     return <Login setToken={setToken}/>\n  // }\n\n\n  var booki = JSON.parse(books);\n  console.log(booki);\n  console.log(typeof booki);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, books, /*#__PURE__*/React.createElement(MyTable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, \"Id\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 19\n    }\n  }, \"Text\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 21\n    }\n  }, \"Amount\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, [booki].map(function (book) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: _this3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }, book.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, book.bookName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 23\n      }\n    }, book.amount));\n  }))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: createBook,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, \"Add book\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: deleteBook,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, \"Delete book\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: updateBook,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, \"Update book\"));\n}\n\nexport default Content;","map":{"version":3,"sources":["C:/Users/Valentin/new_js/spring-boot-security-postgresql-master/src/main/webapp/reactjs/src/components/content.js"],"names":["React","Component","Fragment","useEffect","useLayoutEffect","useState","useToken","Login","App","MyTr","row","map","v","k","MyTable","data","props","console","log","Content","books","setBooks","token","setToken","getBooks","fetch","headers","then","response","text","createBook","bookName","prompt","amount","method","body","JSON","stringify","alert","deleteBook","id","updateBook","addBook","booki","parse","book"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,EAAoCC,SAApC,EAA+CC,eAA/C,EAAgEC,QAAhE,QAA+E,OAA/E;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,GAAP,MAAgB,QAAhB;;AAGA,IAAMC,IAAI,GAAG,SAAPA,IAAO;AAAA,MAAEC,GAAF,QAAEA,GAAF;AAAA,sBACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,GAAG,CAACC,GAAJ,CAAQ,UAACC,CAAD,EAAIC,CAAJ;AAAA,wBAAU;AAAI,MAAA,GAAG,EAAEA,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAaD,CAAb,CAAV;AAAA,GAAR,CADL,CADS;AAAA,CAAb;;IAMME,O;;;;;;;;;;;6BACO;AAAA;;AAAA,UACGC,IADH,GACY,KAAKC,KADjB,CACGD,IADH;AAGLE,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,0BACI,0CACK,CAACA,IAAD,EAAOJ,GAAP,CAAW,UAACC,CAAD,EAAIC,CAAJ;AAAA,4BAAU,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAED,CAAZ;AAAe,UAAA,GAAG,EAAEC,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAV;AAAA,OAAX,CADL,CADJ;AAKS;;;;EAVKZ,S;;AActB,SAASkB,OAAT,GAAmB;AAAA;;AAAA,kBACWd,QAAQ,CAAC,IAAD,CADnB;AAAA;AAAA,MACRe,KADQ;AAAA,MACDC,QADC;;AAAA,kBAGaf,QAAQ,EAHrB;AAAA,MAGPgB,KAHO,aAGPA,KAHO;AAAA,MAGAC,QAHA,aAGAA,QAHA;;AAKfnB,EAAAA,eAAe,CAAC,YAAM;AAClBoB,IAAAA,QAAQ;AACX,GAFc,CAAf;;AAKA,WAASA,QAAT,GAAoB;AAChBC,IAAAA,KAAK,CAAC,kCAAD,EAAqC;AACtCC,MAAAA,OAAO,EAAE;AACL,yBAAiBJ;AADZ;AAD6B,KAArC,CAAL,CAKKK,IALL,CAKU,UAAAC,QAAQ,EAAI;AACd,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KAPL,EAQKF,IARL,CAQU,UAAAZ,IAAI,EAAI;AACVM,MAAAA,QAAQ,CAACN,IAAD,CAAR;AACH,KAVL;AAWH;;AAED,WAASe,UAAT,GAAsB;AAClB,QAAIC,QAAQ,GAAGC,MAAM,CAAC,YAAD,CAArB;AACA,QAAIC,MAAM,GAAGD,MAAM,CAAC,cAAD,CAAnB,CAFkB,CAEkB;;AACpCP,IAAAA,KAAK,CAAC,kCAAD,EAAqC;AACtCS,MAAAA,MAAM,EAAE,MAD8B;AAEtCR,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAiBJ;AAFZ,OAF6B;AAMtCa,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACN,QAAAA,QAAQ,EAARA,QAAD;AAAWE,QAAAA,MAAM,EAANA;AAAX,OAAf;AANgC,KAArC,CAAL,CAQKN,IARL,CAQU,UAAAC,QAAQ,EAAI;AACd,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KAVL,EAWKF,IAXL,CAWU,UAAAZ,IAAI,EAAI;AACVuB,MAAAA,KAAK,CAACvB,IAAD,CAAL;AACAS,MAAAA,QAAQ;AACX,KAdL;AAeH;;AAED,WAASe,UAAT,GAAsB;AAClB,QAAIC,EAAE,GAAGR,MAAM,CAAC,eAAD,CAAf;AACAP,IAAAA,KAAK,2CAAoCe,EAApC,GAA0C;AAC3CN,MAAAA,MAAM,EAAE,QADmC;AAE3CR,MAAAA,OAAO,EAAE;AACL,yBAAiBJ;AADZ;AAFkC,KAA1C,CAAL,CAMKK,IANL,CAMU,UAAAC,QAAQ,EAAI;AACd,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KARL,EASKF,IATL,CASU,UAAAZ,IAAI,EAAI;AACVuB,MAAAA,KAAK,CAACvB,IAAD,CAAL;AACAS,MAAAA,QAAQ;AACX,KAZL;AAaH;;AAED,WAASiB,UAAT,GAAsB;AAClB,QAAID,EAAE,GAAGR,MAAM,CAAC,eAAD,CAAf;AACA,QAAID,QAAQ,GAAEC,MAAM,CAAC,gBAAD,CAApB;AACA,QAAIC,MAAM,GAAED,MAAM,CAAC,kBAAD,CAAlB,CAHkB,CAGqB;;AACvCP,IAAAA,KAAK,CAAC,kCAAD,EAAqC;AACtCS,MAAAA,MAAM,EAAE,KAD8B;AAEtCR,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAiBJ;AAFZ,OAF6B;AAMtCa,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBG,QAAAA,EAAE,EAAFA,EADiB;AAEjBT,QAAAA,QAAQ,EAARA,QAFiB;AAGjBE,QAAAA,MAAM,EAANA;AAHiB,OAAf;AANgC,KAArC,CAAL,CAYKN,IAZL,CAYU,UAAAC,QAAQ,EAAI;AACd,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KAdL,EAeKF,IAfL,CAeU,UAAAZ,IAAI,EAAI;AACVuB,MAAAA,KAAK,CAACvB,IAAD,CAAL;AACAS,MAAAA,QAAQ;AACX,KAlBL;AAmBH;;AAED,WAASkB,OAAT,GAAmB;AACf,QAAIX,QAAQ,GAAGC,MAAM,CAAC,YAAD,CAArB;AACA,QAAIC,MAAM,GAAGD,MAAM,CAAC,cAAD,CAAnB,CAFe,CAEqB;;AACpCP,IAAAA,KAAK,CAAC,kCAAD,EAAqC;AACtCS,MAAAA,MAAM,EAAE,MAD8B;AAEtCR,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAiBJ;AAFZ,OAF6B;AAMtCa,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACN,QAAAA,QAAQ,EAARA,QAAD;AAAWE,QAAAA,MAAM,EAANA;AAAX,OAAf;AANgC,KAArC,CAAL,CAQKN,IARL,CAQU,UAAAC,QAAQ,EAAI;AACd,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KAVL,EAWKF,IAXL,CAWU,UAAAZ,IAAI,EAAI;AACVuB,MAAAA,KAAK,CAACvB,IAAD,CAAL;AACAS,MAAAA,QAAQ;AACX,KAdL;AAeH,GAxGc,CA2Gf;AACA;AACA;;;AAEA,MAAImB,KAAK,GAAGP,IAAI,CAACQ,KAAL,CAAWxB,KAAX,CAAZ;AACAH,EAAAA,OAAO,CAACC,GAAR,CAAYyB,KAAZ;AACA1B,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAOyB,KAAnB;AAIA,sBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKvB,KADL,eAGI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,CADF,CADF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACuB,KAAD,EAAQhC,GAAR,CAAY,UAAAkC,IAAI;AAAA,wBACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,IAAI,CAACL,EAAV,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKK,IAAI,CAACd,QAAV,CAFF,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKc,IAAI,CAACZ,MAAV,CAHJ,CADe;AAAA,GAAhB,CADH,CARF,CALJ,eAuBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvBJ,eAwBI;AAAQ,IAAA,OAAO,EAAEH,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAxBJ,eAyBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzBJ,eA0BI;AAAQ,IAAA,OAAO,EAAES,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBA1BJ,eA2BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3BJ,eA4BI;AAAQ,IAAA,OAAO,EAAEE,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBA5BJ,CAFJ;AAiCH;;AAED,eAAetB,OAAf","sourcesContent":["import React, {Component, Fragment, useEffect, useLayoutEffect, useState} from \"react\";\r\nimport useToken from \"./useToken\";\r\nimport Login from \"./Login\";\r\nimport App from \"../App\";\r\n\r\n\r\nconst MyTr = ({row}) => (\r\n    <tr>\r\n        {row.map((v, k) => <td key={k}>{v}</td>)}\r\n    </tr>\r\n);\r\n\r\nclass MyTable extends Component {\r\n    render() {\r\n        const { data } = this.props;\r\n\r\n        console.log(data);\r\n        return (\r\n            <>\r\n                {[data].map((v, k) => <MyTr data={v} key={k}/>) }\r\n                    </>\r\n                    )\r\n                }\r\n                }\r\n\r\n\r\nfunction Content() {\r\n    const [books, setBooks] = useState(true);\r\n\r\n    const { token, setToken } = useToken();\r\n\r\n    useLayoutEffect(() => {\r\n        getBooks();\r\n    });\r\n\r\n\r\n    function getBooks() {\r\n        fetch('http://localhost:8083/api/books/', {\r\n            headers: {\r\n                'Authorization': token\r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(data => {\r\n                setBooks(data);\r\n            });\r\n    }\r\n\r\n    function createBook() {\r\n        let bookName = prompt('Enter text');\r\n        let amount = prompt('Enter amount');//\r\n        fetch('http://localhost:8083/api/books/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': token\r\n            },\r\n            body: JSON.stringify({bookName, amount}),\r\n        })\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(data => {\r\n                alert(data);\r\n                getBooks();\r\n            });\r\n    }\r\n\r\n    function deleteBook() {\r\n        let id = prompt('Enter book ID');\r\n        fetch(`http://localhost:8083/api/books/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Authorization': token\r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(data => {\r\n                alert(data);\r\n                getBooks();\r\n            });\r\n    }\r\n\r\n    function updateBook() {\r\n        let id = prompt('Enter book ID');\r\n        let bookName= prompt('Enter new text');\r\n        let amount= prompt('Enter new amount');//\r\n        fetch('http://localhost:8083/api/books/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': token\r\n            },\r\n            body: JSON.stringify({\r\n                id,\r\n                bookName,\r\n                amount\r\n            }),\r\n        })\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(data => {\r\n                alert(data);\r\n                getBooks();\r\n            });\r\n    }\r\n\r\n    function addBook() {\r\n        let bookName = prompt('Enter text');\r\n        let amount = prompt('Enter amount');//\r\n        fetch('http://localhost:8083/api/books/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': token\r\n            },\r\n            body: JSON.stringify({bookName, amount}),\r\n        })\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(data => {\r\n                alert(data);\r\n                getBooks();\r\n            });\r\n    }\r\n\r\n\r\n    // if(!token) {\r\n    //     return <Login setToken={setToken}/>\r\n    // }\r\n\r\n    var booki = JSON.parse(books);\r\n    console.log(booki);\r\n    console.log(typeof booki);\r\n\r\n\r\n\r\n    return (\r\n\r\n        <div>\r\n            {books}\r\n\r\n            <MyTable/>\r\n\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Id</th>\r\n                  <th>Text</th>\r\n                    <th>Amount</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {[booki].map(book =>\r\n                  <tr>\r\n                    <td>{book.id}</td>\r\n                    <td>{book.bookName}</td>\r\n                      <td>{book.amount}</td>\r\n                  </tr>)}\r\n              </tbody>\r\n            </table>\r\n\r\n            <br />\r\n            <button onClick={createBook}>Add book</button>\r\n            <br />\r\n            <button onClick={deleteBook}>Delete book</button>\r\n            <br />\r\n            <button onClick={updateBook}>Update book</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Content;"]},"metadata":{},"sourceType":"module"}