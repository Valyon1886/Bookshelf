{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\src\\\\components\\\\Login.js\";\nimport React from 'react';\nimport axios from 'axios';\nexport default function Login(_ref) {\n  var setToken = _ref.setToken;\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var user;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              user = loginUser(e);\n              user.then(function (data) {\n                if (data != null) {\n                  console.log(data);\n                  setToken(data.tokenType + ' ' + data.accessToken);\n                }\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"d-flex mt-5\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 17\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, \"Submit\")));\n}\n\nfunction loginUser(event) {\n  return axios({\n    method: 'post',\n    url: 'http://localhost:8083/api/auth/signin',\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    },\n    data: JSON.stringify({\n      username: event.target.username.value,\n      password: event.target.password.value\n    })\n  }).then(function (response) {\n    return response.data;\n  }).catch(function (error) {\n    alert(error);\n    console.log(error);\n  });\n}","map":{"version":3,"sources":["C:/Users/Valentin/new_js/spring-boot-security-postgresql-master/src/main/webapp/reactjs/src/components/Login.js"],"names":["React","axios","Login","setToken","handleSubmit","e","preventDefault","user","loginUser","then","data","console","log","tokenType","accessToken","event","method","url","headers","JSON","stringify","username","target","value","password","response","catch","error","alert"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,KAAT,OAA2B;AAAA,MAAXC,QAAW,QAAXA,QAAW;;AACtC,MAAMC,YAAY;AAAA,yEAAG,iBAAMC,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBA,cAAAA,CAAC,CAACC,cAAF;AACMC,cAAAA,IAFW,GAEJC,SAAS,CAACH,CAAD,CAFL;AAGjBE,cAAAA,IAAI,CAACE,IAAL,CAAU,UAAAC,IAAI,EAAI;AACd,oBAAIA,IAAI,IAAI,IAAZ,EAAkB;AACdC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAP,kBAAAA,QAAQ,CAACO,IAAI,CAACG,SAAL,GAAiB,GAAjB,GAAuBH,IAAI,CAACI,WAA7B,CAAR;AACH;AACJ,eALD;;AAHiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZV,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAWA,sBACI;AAAM,IAAA,SAAS,EAAC,aAAhB;AAA8B,IAAA,QAAQ,EAAEA,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,EAAE,EAAC,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,EAAE,EAAC,UAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CANJ,eAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,eAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CAXJ,CADJ;AAiBH;;AAED,SAASI,SAAT,CAAmBO,KAAnB,EAA0B;AACtB,SAAOd,KAAK,CAAC;AACTe,IAAAA,MAAM,EAAE,MADC;AAETC,IAAAA,GAAG,EAAE,uCAFI;AAGTC,IAAAA,OAAO,EAAE;AACL,sBAAgB,kBADX;AAEL,gBAAU;AAFL,KAHA;AAOTR,IAAAA,IAAI,EAAES,IAAI,CAACC,SAAL,CAAe;AACjBC,MAAAA,QAAQ,EAAEN,KAAK,CAACO,MAAN,CAAaD,QAAb,CAAsBE,KADf;AAEjBC,MAAAA,QAAQ,EAAET,KAAK,CAACO,MAAN,CAAaE,QAAb,CAAsBD;AAFf,KAAf;AAPG,GAAD,CAAL,CAWJd,IAXI,CAWC,UAAUgB,QAAV,EAAoB;AACxB,WAAOA,QAAQ,CAACf,IAAhB;AACH,GAbM,EAcFgB,KAdE,CAcI,UAAUC,KAAV,EAAiB;AACpBC,IAAAA,KAAK,CAACD,KAAD,CAAL;AACAhB,IAAAA,OAAO,CAACC,GAAR,CAAYe,KAAZ;AACH,GAjBE,CAAP;AAmBH","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nexport default function Login({setToken}) {\n    const handleSubmit = async e => {\n        e.preventDefault();\n        const user = loginUser(e);\n        user.then(data => {\n            if (data != null) {\n                console.log(data);\n                setToken(data.tokenType + ' ' + data.accessToken);\n            }\n        });\n    };\n\n    return (\n        <form className=\"d-flex mt-5\" onSubmit={handleSubmit}>\n            <label>\n                <p>Username</p>\n                <input type=\"text\" id=\"username\" />\n            </label>\n            <br></br>\n            <label>\n                <p>Password</p>\n                <input type=\"password\" id=\"password\" />\n            </label>\n            <br></br>\n            <div>\n                <button type=\"submit\">Submit</button>\n            </div>\n        </form>\n    );\n}\n\nfunction loginUser(event) {\n    return axios({\n        method: 'post',\n        url: 'http://localhost:8083/api/auth/signin',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        data: JSON.stringify({\n            username: event.target.username.value,\n            password: event.target.password.value\n        })\n    }).then(function (response) {\n        return response.data;\n    })\n        .catch(function (error) {\n            alert(error);\n            console.log(error);\n        });\n\n}"]},"metadata":{},"sourceType":"module"}