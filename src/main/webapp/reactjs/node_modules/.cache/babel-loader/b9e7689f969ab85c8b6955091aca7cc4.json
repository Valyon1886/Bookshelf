{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\src\\\\components\\\\content.js\";\nimport React, { useLayoutEffect, useState } from \"react\";\nimport useToken from \"./useToken\";\nimport Login from \"./Login\";\nimport App from \"../App\";\n\nfunction Content() {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      examples = _useState2[0],\n      setExamples = _useState2[1];\n\n  var _useToken = useToken(),\n      token = _useToken.token,\n      setToken = _useToken.setToken;\n\n  useLayoutEffect(function () {\n    getExamples();\n  });\n\n  function getExamples() {\n    fetch('http://localhost:8083/api/books/', {\n      headers: {\n        'Authorization': token\n      }\n    }).then(function (response) {\n      return response.text();\n    }).then(function (data) {\n      setExamples(data);\n    });\n  }\n\n  function createExample() {\n    var exampleText = prompt('Enter text');\n    fetch('http://localhost:8083/api/books/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': token\n      },\n      body: JSON.stringify({\n        exampleText: exampleText\n      })\n    }).then(function (response) {\n      return response.text();\n    }).then(function (data) {\n      alert(data);\n      getExamples();\n    });\n  }\n\n  function deleteExample() {\n    var id = prompt('Enter example ID');\n    fetch(\"http://localhost:8083/api/books/\".concat(id), {\n      method: 'DELETE',\n      headers: {\n        'Authorization': token\n      }\n    }).then(function (response) {\n      return response.text();\n    }).then(function (data) {\n      alert(data);\n      getExamples();\n    });\n  }\n\n  function updateExample() {\n    var id = prompt('Enter example ID');\n    var exampleText = prompt('Enter new text');\n    fetch('http://localhost:8083/api/books/', {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': token\n      },\n      body: JSON.stringify({\n        id: id,\n        exampleText: exampleText\n      })\n    }).then(function (response) {\n      return response.text();\n    }).then(function (data) {\n      alert(data);\n      getExamples();\n    });\n  } // if(!token) {\n  //     return <Login setToken={setToken}/>\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, examples, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: createExample,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, \"Add example\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: deleteExample,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, \"Delete example\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: updateExample,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, \"Update example\"));\n}\n\nexport default Content;","map":{"version":3,"sources":["C:/Users/Valentin/new_js/spring-boot-security-postgresql-master/src/main/webapp/reactjs/src/components/content.js"],"names":["React","useLayoutEffect","useState","useToken","Login","App","Content","examples","setExamples","token","setToken","getExamples","fetch","headers","then","response","text","data","createExample","exampleText","prompt","method","body","JSON","stringify","alert","deleteExample","id","updateExample"],"mappings":"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","sourcesContent":["import React, {useLayoutEffect, useState} from \"react\";\r\nimport useToken from \"./useToken\";\r\nimport Login from \"./Login\";\r\nimport App from \"../App\";\r\n\r\nfunction Content() {\r\n    const [examples, setExamples] = useState(true);\r\n\r\n    const { token, setToken } = useToken();\r\n\r\n    useLayoutEffect(() => {\r\n        getExamples();\r\n    });\r\n\r\n    function getExamples() {\r\n        fetch('http://localhost:8083/api/books/', {\r\n            headers: {\r\n                'Authorization': token\r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(data => {\r\n                setExamples(data);\r\n            });\r\n    }\r\n\r\n    function createExample() {\r\n        let exampleText = prompt('Enter text');\r\n        fetch('http://localhost:8083/api/books/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': token\r\n            },\r\n            body: JSON.stringify({exampleText}),\r\n        })\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(data => {\r\n                alert(data);\r\n                getExamples();\r\n            });\r\n    }\r\n\r\n    function deleteExample() {\r\n        let id = prompt('Enter example ID');\r\n        fetch(`http://localhost:8083/api/books/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Authorization': token\r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(data => {\r\n                alert(data);\r\n                getExamples();\r\n            });\r\n    }\r\n\r\n    function updateExample() {\r\n        let id = prompt('Enter example ID');\r\n        let exampleText = prompt('Enter new text');\r\n        fetch('http://localhost:8083/api/books/', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': token\r\n            },\r\n            body: JSON.stringify({\r\n                id,\r\n                exampleText\r\n            }),\r\n        })\r\n            .then(response => {\r\n                return response.text();\r\n            })\r\n            .then(data => {\r\n                alert(data);\r\n                getExamples();\r\n            });\r\n    }\r\n    // if(!token) {\r\n    //     return <Login setToken={setToken}/>\r\n    // }\r\n    return (\r\n\r\n        <div>\r\n\r\n\r\n            {/*<table>*/}\r\n            {/*  <thead>*/}\r\n            {/*    <tr>*/}\r\n            {/*      <th>Id</th>*/}\r\n            {/*      <th>Text</th>*/}\r\n            {/*    </tr>*/}\r\n            {/*  </thead>*/}\r\n            {/*  <tbody>*/}\r\n            {/*    {JSON.parse(examples).map(item =>*/}\r\n            {/*      <tr>*/}\r\n            {/*        <td>{item.id}</td>*/}\r\n            {/*        <td>{item.exampleText}</td>*/}\r\n            {/*      </tr>)}*/}\r\n            {/*  </tbody>*/}\r\n            {/*</table>*/}\r\n            {examples}\r\n            <br />\r\n            <button onClick={createExample}>Add example</button>\r\n            <br />\r\n            <button onClick={deleteExample}>Delete example</button>\r\n            <br />\r\n            <button onClick={updateExample}>Update example</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Content;"]},"metadata":{},"sourceType":"module"}