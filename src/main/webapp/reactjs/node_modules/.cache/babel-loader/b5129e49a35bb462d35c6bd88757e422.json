{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Valentin\\\\new_js\\\\spring-boot-security-postgresql-master\\\\src\\\\main\\\\webapp\\\\reactjs\\\\src\\\\components\\\\Registration.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Login from \"./Login\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function Registration(_ref) {\n  var setToken = _ref.setToken;\n\n  var handleClick = function handleClick() {\n    navigate(\"/path/to/push\");\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var user;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              user = createUser(e);\n              navigate(\"/path/to/push\"); // user.then(data => {\n              //     if (data != null) {\n              //         console.log(data);\n              //         setToken(data.tokenType + ' ' + data.accessToken);\n              //     }\n              // });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, \"Role\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"role\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, \"Submit\")));\n}\n\nfunction createUser(event) {\n  return axios({\n    method: 'post',\n    url: 'http://localhost:8083/api/auth/signup',\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    },\n    data: JSON.stringify({\n      username: event.target.username.value,\n      password: event.target.password.value,\n      email: event.target.email.value,\n      role: [event.target.role.value]\n    })\n  }).then(function (response) {\n    return response.data;\n  }).catch(function (error) {\n    alert(error);\n    console.log(error);\n  });\n}","map":{"version":3,"sources":["C:/Users/Valentin/new_js/spring-boot-security-postgresql-master/src/main/webapp/reactjs/src/components/Registration.js"],"names":["React","axios","Login","useNavigate","Registration","setToken","handleClick","navigate","handleSubmit","e","preventDefault","user","createUser","event","method","url","headers","data","JSON","stringify","username","target","value","password","email","role","then","response","catch","error","alert","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Login from \"./Login\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Registration({setToken}) {\r\n    const handleClick = () => {\r\n        navigate(\"/path/to/push\");\r\n    }\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        const user = createUser(e);\r\n        navigate(\"/path/to/push\");\r\n        // user.then(data => {\r\n        //     if (data != null) {\r\n        //         console.log(data);\r\n        //         setToken(data.tokenType + ' ' + data.accessToken);\r\n        //     }\r\n        // });\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <label>\r\n                <p>Username</p>\r\n                <input type=\"text\" id=\"username\" />\r\n            </label>\r\n            <label>\r\n                <p>Password</p>\r\n                <input type=\"password\" id=\"password\" />\r\n            </label>\r\n            <label>\r\n                <p>Email</p>\r\n                <input type=\"email\" id=\"email\" />\r\n            </label>\r\n            <label>\r\n                <p>Role</p>\r\n                <input type=\"text\" id=\"role\" />\r\n            </label>\r\n            <div>\r\n                <button type=\"submit\">Submit</button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\nfunction createUser(event) {\r\n    return axios({\r\n        method: 'post',\r\n        url: 'http://localhost:8083/api/auth/signup',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json'\r\n        },\r\n        data: JSON.stringify({\r\n            username: event.target.username.value,\r\n            password: event.target.password.value,\r\n            email: event.target.email.value,\r\n            role: [event.target.role.value],\r\n        })\r\n    }).then(function (response) {\r\n        return response.data;\r\n    })\r\n        .catch(function (error) {\r\n            alert(error);\r\n            console.log(error);\r\n        });\r\n\r\n}"]},"metadata":{},"sourceType":"module"}